# Saas UI Pro

## Getting started

First of all, thanks a lot for signing up!

If you have any questions, problems, ideas feel free to share them on the discord server.
https://discord.gg/DFPtCfpTzG

## Roadmap

https://github.com/orgs/saas-js/projects/1/views/6

## Installation

In case you use this repository as a reference or for testing purposes, go ahead and clone the repo.

If you're using the repository as a template for a new project, download the source as a ZIP file, or use the `Use this template` button to create a new fresh repository without Saas UI's history.

Once you have a copy of the source on your computer, run yarn to install all dependencies.

```bash
yarn install
```

And then run the generators to generate the React Query hooks.

```bash
yarn generate
```

### Installing from the private NPM registery

** This is bleeding edge **

`@saas-ui/pro` can also be installed from NPM, follow these steps to set it up.

1. Edit `.yarnrc.yml` in your project root and add:

```yml
npmScopes:
  saas-ui:
    npmRegistryServer: 'https://npm.saas-ui.dev'
npmRegistries:
  //npm.saas-ui.dev:
    npmAuthIdent: '${SAAS_UI_TOKEN:-}'
```

2. Authentication works with your Github username (The account you used on the redeem page) and your license key.

To set it up on your dev machine add this to `~/.profile`. The same environment variable can be used for deployments.

```bash
SAAS_UI_TOKEN="GithubUsername:licenseKey"
```

3. The packages are published in Typescript and are NOT transpiled, so you need to configure your app/bundler to do this.

Here's an example Webpack config for Next.js

```
// next.config.js

module.exports = {
  webpack(config) {
     config.module.rules.push({
      test: /node_modules\/@saas-ui\/(pro|charts|billing|features|onboarding)\/.*\.tsx?/,
      use: [defaultLoaders.babel],
    })
    return config
  }
}

```

## Configuration

All client side app configuration files can be found in `packages/app-config`.

## Running the apps

Saas UI Pro comes with 3 example apps, Next.js, Electron and Vite.

You can start the apps from their subfolder, or from the project root using one of these commands:

```
yarn dev:nextjs

yarn dev:electron

yarn dev:vite
```

### Authentication

The apps mocks authentication by default. Follow these steps to configure Supabase for Next.js.

#### Supabase

1. Copy `apps/nextjs/.env.example` to `apps/nextjs/.env` and add your public Supabase URL and KEY.

```
NEXT_PUBLIC_SUPABASE_URL="https://x.supabase.co"
NEXT_PUBLIC_SUPABASE_KEY="x"
```

2. Edit `apps/nextjs/src/pages/_app.tsx` and update the authservice imports.

```js
import { authService } from '../lib/supabase'
// import { authService } from '../lib/magic'
//import { authService } from '@app/config/mock-auth-service'
```

Edit `packages/app-config/src/auth.ts` to change the authentication type (magiclink/password) and add your OAuth providers.

## Project structure

Saas UI Pro makes use of yarn workspaces.

| Path                              | Description                                                                                |
| --------------------------------- | ------------------------------------------------------------------------------------------ |
| `saas-ui`                         | All Saas UI Pro packages and components live in here.                                      |
| `apps`                            | Example apps are in this folder                                                            |
| `apps/nextjs`                     | The Next.js app                                                                            |
| `apps/electron`                   | The Electron app                                                                           |
| `apps/vite`                       | The Vite app                                                                               |
| `packages`                        | This contains all shared application code, as well as your own custom packages.            |
| `packages/app-config`             | Contains all client side configuration files.                                              |
| `packages/app-grapqhl`            | This is the Graphql api client (`react-query`), generated by `graphql-codegen`.            |
| `packages/app-nextjs`             | Next.js specific code, shared between the nextjs-app and electron-app.                     |
| `packages/app-test-utils`         | Helper functions for testing.                                                              |
| `packages/app`                    | This contains all application code that is shared between the example apps.                |
| `packages/app/src/modules/*`      | All related code is grouped within individual modules, more on this below.                 |
| `packages/app/src/modules/core`   | The app's core functionality, for example layouts, that is shared across modules.          |
| `packages/app/src/modules/common` | Common code that is shared across modules.                                                 |
| `packages/mock-graphql`           | A Mock Graphql server.                                                                     |
| `packages/ui-core`                | The core UI package, adds all required UI dependencies and Storybook can be run from here. |
| `packages/ui-theme`               | Your custom Chakra UI theme. This extends the Saas UI Pro theme by default.                |

### Package naming

Packages that are prefixed with `app` or `ui` should only be used client side.

Serverside code should be prefixed with `api`.

`mock-graphql` is an exception here, as it can run both in client and server (for testing purposes).

### Modules

Code in Saas UI Pro is grouped by responsibility instead of type. This means that all code for for example a `Contacts` resource is
located in `modules/contacts`, including, components, hooks, contexts, etc.

This will make your app much easier to maintain as your app grows.

## License

See [LICENSE](./LICENSE).
